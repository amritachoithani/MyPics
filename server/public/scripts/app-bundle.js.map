{"version":3,"sources":["src/app.js","src/auth-config.js","src/environment.js","src/main.js","src/modules/home.js","src/modules/list.js","src/resources/index.js","src/resources/data/data-services.js","src/resources/data/gallery.js","src/resources/data/pics.js","src/resources/data/users.js","src/resources/elements/flatpickr.js","src/resources/value-converters/completed.js","src/resources/value-converters/date-format.js"],"names":["App","configureRouter","config","router","addPipelineStep","map","route","moduleId","name","auth","authConfig","baseUrl","loginUrl","tokenName","authHeader","authToken","logoutRedirect","debug","testing","configure","window","regeneratorRuntime","aurelia","use","standardConfiguration","plugin","baseConfig","feature","developmentLogging","start","then","setRoot","Home","users","loginError","message","showLogin","login","email","password","sessionStorage","setItem","JSON","stringify","response","user","navigate","catch","console","log","error","showRegister","firstName","lastName","registerError","save","serverResponse","List","gallery","pics","parse","getItem","showList","activate","getUserGallery","_id","createGallery","galleryObj","description","dateCreated","Date","userId","createPhotos","photoObj","galleryId","editGallery","editPics","deleteGallery","deletePics","changeFiles","filesToUpload","Array","push","files","removeFile","index","splice","saveGallery","alert","length","uploadFile","savePics","savePicture","picsId","showGallery","getUserPic","back","backPics","logout","removeItem","globalResources","DataServices","http","httpClient","BASE_URL","withBaseUrl","withDefaults","credentials","headers","withInterceptor","request","localStorage","append","method","url","status","get","fetch","json","data","post","content","body","object","put","delete","uploadFiles","Gallery","GALLERY_SERVICE","galleryArray","id","i","Pics","PIC_SERVICE","picsArray","formData","FormData","forEach","item","Users","USER_SERVICE","FlatPickerCustomElement","Element","defaultBindingMode","twoWay","element","bind","defaultConfig","altInput","altFormat","wrap","_config","Object","assign","onChange","onMonthChange","onYearChange","attached","flatpickr","querySelector","selectedDates","dateStr","instance","value","valueChanged","newDate","undefined","setDate","CompletedValueConverter","toView","array","filter","completed","DateFormatValueConverter","format"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {AuthorizeStep} from 'aurelia-auth';\n\nexport class App {\n  configureRouter(config, router) {\n    this.router = router;\n    config.addPipelineStep('authorize', AuthorizeStep);\n    config.map([\n      { \n\t      route: ['', 'home'],\n\t      moduleId: './modules/home',\n\t      name: 'Home' \n      },\n      {\n\t      route: 'list',\n\t      moduleId: './modules/list',\n        name: 'List', \n        auth: true\n     }\n    ]);\n  }\n}\n","var authConfig = {\n    baseUrl: \"http://localhost:5000/api\",\n    loginUrl: '/users/login',\n    tokenName: 'token',\n    authHeader: 'Authorization',\n    authToken: '',\n    logoutRedirect: '#/home'\n    }\n  \n  export default authConfig;","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\nimport regeneratorRuntime from 'regenerator-runtime';\nwindow.regeneratorRuntime = regeneratorRuntime;\nimport config from './auth-config';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .plugin('aurelia-auth', (baseConfig)=>{\n      baseConfig.configure(config);\n    })\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {inject} from 'aurelia-framework';\nimport {Router} from 'aurelia-router';\nimport { Users } from '../resources/data/users';\nimport {AuthService} from 'aurelia-auth';\n\n@inject(Router, Users, AuthService)\nexport class Home {\n  constructor(router, users, auth) {\n    this.router = router;\n    this.auth = auth;\n    this.loginError = '';\n    this.users = users;\n    this.message = 'Home';\n    this.showLogin = true;\n  }\n\n  login() {\n    return this.auth.login(this.email, this.password)\n    .then(response => {\n      sessionStorage.setItem(\"user\", JSON.stringify(response.user));\n      this.loginError = \"\";\n      this.router.navigate('list');\n    })\n.catch(error => {\n  console.log(error);\n  this.loginError = \"Invalid credentials.\";\n});\n  }\n\n  showRegister() {\n    this.user = {\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      password: \"\"\n    };\n    this.registerError = \"\";\n    this.showLogin = false;\n  }\n\n  async save() {\n    let serverResponse = await this.users.save(this.user);\n    if (!serverResponse.error) {\n      this.showLogin = true;\n    } else {\n      this.registerError = \"There was a problem registering the user.\";\n    }\n  }\n}","import {inject} from 'aurelia-framework';\nimport {Router} from 'aurelia-router';\nimport {Gallery} from '../resources/data/gallery';\nimport {Pics} from '../resources/data/pics';\nimport { AuthService } from 'aurelia-auth';\n\n@inject(Router, Gallery, Pics, AuthService, )\nexport class List {\n  constructor(router, gallery, pics, auth) {\n    this.gallery = gallery;\n    this.pics = pics;\n    this.router = router;\n    this.message = 'List';\n    this.auth = auth;\n    this.user = JSON.parse(sessionStorage.getItem('user'));\n    this.showList = 'galleryList';\n  }\n\n  async activate(){\n        await this.gallery.getUserGallery(this.user._id);\n    }\n\n        createGallery(){    \n            this.galleryObj = {\n                gallery: \"\",\n                description: \"\",\n                dateCreated: new Date(),\n                userId: this.user._id,\n            }\n            this.showList = 'galleryForm';      \n        }\n\n        createPhotos() {  \n            this.photoObj = {\n           galleryId: (JSON.parse(sessionStorage.getItem('gallery'))._id)\n           };\n           this.showList = 'picsForm';\n           }\n\n        editGallery(gallery){\n            this.galleryObj = gallery;\n            this. showList = 'galleryForm';\n            }\n\n        editPics(pics){\n            this.photoObj = pics;\n            this. showList = 'picsForm';\n            }\n\n        deleteGallery(gallery){\n            this.gallery.deleteGallery(gallery._id);\n            }\n             \n        deletePics(pics) {\n            this.pics.deletePics(pics._id);\n            }\n\n        changeFiles(){\n            this.filesToUpload = new Array(); \n            this.filesToUpload.push(this.files[0]);\n            }\n            \n        removeFile(index){\n            this.filesToUpload.splice(index,1);\n            }\n                       \n    \n        async saveGallery(){\n            if(this.galleryObj){        \n                let response = await this.gallery.save(this.galleryObj);\n                if(response.error){\n                    alert(\"There was an error creating the Galleries\");\n                } else {\n                      var galleryId = response._id;\n                                    if(this.filesToUpload && this.filesToUpload.length){\n                                        await this.gallery.uploadFile(this.filesToUpload, this.user._id, galleryId);\n                                        this.filesToUpload = [];\n                                    }                     \n                }\n                this.showList = 'galleryList';\n            }\n        }\n\n        async savePics(){\n            if(this.photoObj){      \n                let response = await this.pics.savePicture(this.photoObj);\n                if(response.error){\n                    alert(\"There was an error uploading the photo\");\n                } else {\n                      var picsId = response._id;\n                      var galleryId = response.galleryId;\n                                    if(this.filesToUpload && this.filesToUpload.length){\n                                        await this.pics.uploadFile(this.filesToUpload, galleryId, picsId);\n                                        this.filesToUpload = [];\n                                    }                     \n                }\n                this.showList = 'picsList';\n            }\n        }\n      \n        async showGallery(gallery) {\n            sessionStorage.setItem(\"gallery\", JSON.stringify(gallery));\n            await this.pics.getUserPic(JSON.parse(sessionStorage.getItem('gallery'))._id);\n            this.showList = 'picsList';\n            \n            }\n        back(){\n            this.showList='galleryList';\n        }\n        \n        backPics(){\n            this.showList='picsList';\n        }\n    \n      logout(){\n         sessionStorage.removeItem('user');\n         this.auth.logout();\n    \n      }\n    }\n","export function configure(config) {\n  config.globalResources([\n    './value-converters/date-format',\n    './value-converters/completed',\n    './elements/flatpickr'\n  ]);\n}","import { inject } from 'aurelia-framework';\nimport {HttpClient, json} from 'aurelia-fetch-client';\n\n@inject(HttpClient)\nexport class DataServices {\n\n\tconstructor(http) {\n\t\tthis.httpClient = http;\n        this.BASE_URL = \"http://localhost:5000/api/\";\n        this.httpClient.configure(config => {\n            config\n                .withBaseUrl(this.BASE_URL)\n                .withDefaults({\n                credentials: 'same-origin',\n                headers: {\n                    'Accept': 'application/json',\n                    'X-Requested-With': 'Fetch'\n                }\n                })\n                .withInterceptor({\n                request(request) {\n                      var authHeader = 'Bearer ' + localStorage.getItem('aurelia_token')\n                      request.headers.append('Authorization', authHeader);\n                    console.log(`Requesting ${request.method} ${request.url}`);\n                    return request;\n                },\n                response(response) {\n                    console.log(`Received ${response.status} ${response.url}`);\n                    return response;\n                }\n                });\n            });\n    }\n    \n    get(url) {\n        return this.httpClient.fetch(url)\n            .then(response => response.json())\n            .then(data => {\n                return data;\n            })\n            .catch(error => {\n                return error;\n            });\n    }\n\n    post(content, url) {\n\t\treturn this.httpClient\n\t\t\t.fetch(url, {\n\t\t\t\tmethod: 'post',\n\t\t\t\tbody: json(content)\n\t\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(object => {\n\t\t\t\treturn object;\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\treturn error;\n\t\t\t});\n    }\n    \n    put(content, url) {\n\t\treturn this.httpClient\n\t\t\t.fetch(url, {\n\t\t\t\tmethod: 'put',\n\t\t\t\tbody: json(content)\n\t\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(object => {\n\t\t\t\treturn object;\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\treturn error;\n\t\t\t});\n    }\n    \n    delete(url) {\n\t\treturn this.httpClient\n\t\t\t.fetch(url, {\n\t\t\t\tmethod: 'delete'\n\t\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(object => {\n\t\t\t\treturn object;\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\treturn error ;\n\t\t\t});\n    }\n\n    uploadFiles(files, url){\n         return this.httpClient\n            .fetch(url, {\n                method: 'post',\n                body: files\n            })\n            .then(response => response.json())\n            .then(object => {\n                return object;\n            })\n            .catch(error => {\n                return error;\n            });\n        }   \n}","import {inject} from 'aurelia-framework';\nimport {DataServices} from './data-services';\n\n@inject(DataServices)\nexport class Gallery {\n  constructor(data) {\n    this.data = data;\n    this.GALLERY_SERVICE = 'gallery';\n    this.galleryArray = [];\n  }\n\n  async getUserGallery(id) {\n    let response = await this.data.get(this.GALLERY_SERVICE + \"/\" + id);\n    if (!response.error && !response.message) {\n      this.galleryArray = response;\n    }\n  }\n   \n  async save(gallery) {\n    if (gallery) {\n      if (!gallery._id) {\n        let response = await this.data.post(gallery, this.GALLERY_SERVICE);\n        if (!response.error) {\n          this.galleryArray.push(response);\n        }\n        return response;\n      } else {\n        let response = await this.data.put(gallery, this.GALLERY_SERVICE + \"/\" + gallery._id);\n        if (!response.error) {\n// this.updateArray(response);\n        }\n        return response;\n      }\n    }\n  }\n  async deleteGallery(id) {\n    let response = await this.data.delete(this.GALLERY_SERVICE + \"/\" + id);\n    if (!response.error) {\n      for (let i = 0; i < this.galleryArray.length; i++) {\n        if (this.galleryArray[i]._id === id) {\n          this.galleryArray.splice(i, 1);\n        }\n    }\n  }\n}\n}\n\n","import {inject} from 'aurelia-framework';\nimport {DataServices} from './data-services';\n\n@inject(DataServices)\nexport class Pics {\n  constructor(data) {\n    this.data = data;\n    this.PIC_SERVICE = 'pics';\n    this.picsArray = [];\n    this.GALLERY_SERVICE = 'gallery';\n  }\n\n  async getUserPic(galleryId) {\n    let response = await this.data.get(\"users/\" + this.GALLERY_SERVICE + \"/\" + galleryId);\n    if (!response.error && !response.message) {\n      this.picsArray = response;\n    }\n  }\n\n  async savePicture(pics) {\n    if (pics) {\n      if (!pics._id) {\n        let response = await this.data.post(pics, this.GALLERY_SERVICE + \"/\" + this.PIC_SERVICE);\n        if (!response.error) {\n          this.picsArray.push(response);\n        }\n        return response;\n      } else {\n        let response = await this.data.put(pics, this.GALLERY_SERVICE + \"/\" + this.PIC_SERVICE + \"/\" + pics._id);\n        if (!response.error) {\n// this.updateArray(response);\n        }\n        return response;\n      }\n    }\n  }\n\n  async deletePics(id) {\n    let response = await this.data.delete(\"pics\" + \"/\" + id);\n    if (!response.error) {\n      for (let i = 0; i < this.picsArray.length; i++) {\n        if (this.picsArray[i]._id === id) {\n          this.picsArray.splice(i, 1);\n        }\n      }\n    }\n  }\n  \n  async uploadFile(files, galleryId, picsId) {\n    let formData = new FormData();\n    files.forEach((item, index) => {\n      formData.append(\"file\" + index, item);\n    });\n    let response = await this.data.uploadFiles(formData, this.GALLERY_SERVICE + \"/upload/\" + galleryId + \"/\" + picsId);\n    return response;\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {DataServices} from './data-services';\n\n\u000b@inject(DataServices)\nexport class Users {\n\n\u000b   constructor(data) {\n        this.data = data;\n\n        this.USER_SERVICE = 'users';\n    }\n\n    async save(user){\n        if(user){\n            let serverResponse = await this.data.post(user, this.USER_SERVICE);\n            return serverResponse;\n        }\n    }\n    \n}","import {inject, bindable, bindingMode} from 'aurelia-framework';\nimport Flatpickr from 'flatpickr';\n\u000b\n@inject(Element)\nexport class FlatPickerCustomElement {\n\n@bindable({defaultBindingMode: bindingMode.twoWay}) value;\n\u000b        constructor(element) {\n        this.element = element;\n        }\n\nbind() {\n        const defaultConfig = {\n            altInput: true,\n            altFormat: \"F j, Y\",\n            wrap: true\n        };\n    \u000b    this._config = Object.assign({}, defaultConfig);\n        this._config.onChange = this._config.onMonthChange = this._config.onYearChange = this.onChange.bind(this);\n    }\n\nattached() {\n        this.flatpickr = new Flatpickr(this.element.querySelector('.aurelia-flatpickr'), this._config);\n    }\n\nonChange(selectedDates, dateStr, instance) {\n        this.value = selectedDates[0] \n    }\n\nvalueChanged() {\n        if (!this.flatpickr) {\n            return;\n        }\n        if (this.value === this.flatpickr.selectedDates[0]){\n            return;\n        }\n        let newDate = this.value ? this.value : undefined;      \n        this.flatpickr.setDate(newDate);\n        }\n    }\n\n","export class CompletedValueConverter {\n      \n       toView(array, value) {\n         if(!value){\n          return array.filter(item => {\n            return !item.completed;\n          })\n         } else {\n           return array;\n         }\n       }\n      }","import moment from 'moment';\nexport class DateFormatValueConverter {\n  toView(value) {\n    if (value === undefined || value === null) {\n      return;\n    }\n\n    return moment(value).format('MMM Do YYYY');\n  }\n}"],"sourceRoot":".."}